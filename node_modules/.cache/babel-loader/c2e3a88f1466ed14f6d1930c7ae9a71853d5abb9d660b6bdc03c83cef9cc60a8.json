{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/Joel/WebstormProjects/cultrm/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import React,{useEffect,useState}from\"react\";import Navbar from\"../components/Navbar\";import Cover from\"../components/Cover\";import axios from\"axios\";import Body from\"../components/Body\";import styled from\"styled-components\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n\"])));const Toggle=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    height: 10vh;\\n    border-top: 1px solid black;\\n    border-bottom: 1px solid black;\\n    justify-content: space-around;\\n\"])));const Direction=styled.h2(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  font-size: calc(20px + 1vw);\\n  font-family: 'Archivo Black', sans-serif;\\n  cursor: pointer;\\n  &:hover{\\n    text-decoration: underline;\\n  }\\n\"])));const Posts=()=>{const apiUrl='http://18.219.147.241:4000';const{postIndex}=useParams();const[posts,setPosts]=useState([]);const[postNumber,setPostNumber]=useState(parseInt(postIndex,10)||0);const handlePreviousClick=()=>{// Decrease the post number when the \"PREVIOUS POST\" is clicked\nif(postNumber>0){setPostNumber(postNumber-1);}else{setPostNumber(posts.length-1);}};const handleNextClick=()=>{// Increase the post number when the \"NEXT POST\" is clicked\nif(postNumber===posts.length-1){setPostNumber(0);}else{setPostNumber(postNumber+1);}};useEffect(()=>{const getPosts=async()=>{try{console.log(\"get that post\");const response=await axios.get(\"\".concat(apiUrl,\"/api/post/getPost\"));console.log(response.data);setPosts(response.data);}catch(error){console.log(error,\"This failed\");}};getPosts();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),posts.length===0?/*#__PURE__*/_jsx(Cover,{imageLink:\"loading...\",infoTitle:\"loading...\"}):/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Cover,{imageLink:posts[postNumber].photoUrl,infoTitle:posts[postNumber].title,category:posts[postNumber].category,date:posts[postNumber].date}),/*#__PURE__*/_jsx(Body,{bodyText:posts[postNumber].body}),/*#__PURE__*/_jsxs(Toggle,{children:[/*#__PURE__*/_jsx(Direction,{onClick:handlePreviousClick,children:\"\\u2B05PREVIOUS POST\"}),/*#__PURE__*/_jsx(Direction,{onClick:handleNextClick,children:\"NEXT POST\\u279E\"})]})]})]});};export default Posts;","map":{"version":3,"names":["React","useEffect","useState","Navbar","Cover","axios","Body","styled","useParams","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","Toggle","_templateObject2","Direction","h2","_templateObject3","Posts","apiUrl","postIndex","posts","setPosts","postNumber","setPostNumber","parseInt","handlePreviousClick","length","handleNextClick","getPosts","console","log","response","get","concat","data","error","children","imageLink","infoTitle","photoUrl","title","category","date","bodyText","body","onClick"],"sources":["C:/Users/Joel/WebstormProjects/cultrm/src/pages/Posts.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Cover from \"../components/Cover\";\r\nimport axios from \"axios\";\r\nimport Body from \"../components/Body\";\r\nimport styled from \"styled-components\";\r\nimport {useParams} from \"react-router-dom\";\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nconst Toggle = styled.div`\r\n    display: flex;\r\n    height: 10vh;\r\n    border-top: 1px solid black;\r\n    border-bottom: 1px solid black;\r\n    justify-content: space-around;\r\n`;\r\n\r\nconst Direction = styled.h2`\r\n  font-size: calc(20px + 1vw);\r\n  font-family: 'Archivo Black', sans-serif;\r\n  cursor: pointer;\r\n  &:hover{\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\nconst Posts = () => {\r\n    const apiUrl = 'http://18.219.147.241:4000';\r\n    const {postIndex} = useParams();\r\n    const [posts, setPosts] = useState([]);\r\n    const [postNumber, setPostNumber] = useState(parseInt(postIndex,10) || 0);\r\n\r\n\r\n    const handlePreviousClick = () => {\r\n        // Decrease the post number when the \"PREVIOUS POST\" is clicked\r\n        if (postNumber > 0) {\r\n            setPostNumber(postNumber-1);\r\n        } else {\r\n            setPostNumber(posts.length-1);\r\n        }\r\n    };\r\n\r\n    const handleNextClick = () => {\r\n        // Increase the post number when the \"NEXT POST\" is clicked\r\n        if (postNumber === posts.length-1) {\r\n            setPostNumber(0);\r\n        } else {\r\n            setPostNumber(postNumber+1)\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const getPosts = async() => {\r\n            try {\r\n                console.log(\"get that post\")\r\n                const response = await axios.get(`${apiUrl}/api/post/getPost`);\r\n                console.log(response.data);\r\n                setPosts(response.data);\r\n            } catch (error) {\r\n                console.log(error, \"This failed\");\r\n            }\r\n        }\r\n        getPosts();\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <Navbar/>\r\n            {posts.length === 0 ? (\r\n                <Cover imageLink={\"loading...\"} infoTitle={\"loading...\"}/>\r\n            ) : (\r\n                <Container>\r\n                    <Cover imageLink={posts[postNumber].photoUrl} infoTitle={posts[postNumber].title} category={posts[postNumber].category} date={posts[postNumber].date}/>\r\n                    <Body bodyText={posts[postNumber].body}/>\r\n                    <Toggle>\r\n                        <Direction onClick={handlePreviousClick}>⬅PREVIOUS POST</Direction>\r\n                        <Direction onClick={handleNextClick}>NEXT POST➞</Direction>\r\n                    </Toggle>\r\n                </Container>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Posts;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}