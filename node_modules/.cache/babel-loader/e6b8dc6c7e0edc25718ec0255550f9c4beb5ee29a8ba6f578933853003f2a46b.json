{"ast":null,"code":"import{createContext,useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";export const AuthContext=/*#__PURE__*/createContext();export const AuthContextProvider=_ref=>{let{children}=_ref;const apiUrl='http://18.219.147.241:4000';const[currentUser,setUser]=useState(JSON.parse(localStorage.getItem(\"user\"))||null);const login=async inputs=>{const response=await axios.post(\"\".concat(apiUrl,\"/api/auth/login\"),inputs);setUser(response.data);};const logout=async inputs=>{const response=await axios.post(\"/auth/logout\",inputs);setUser(null);};useEffect(()=>{localStorage.setItem(\"user\",JSON.stringify(currentUser));},[currentUser]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{currentUser,login,logout},children:children});};","map":{"version":3,"names":["createContext","useEffect","useState","axios","jsx","_jsx","AuthContext","AuthContextProvider","_ref","children","apiUrl","currentUser","setUser","JSON","parse","localStorage","getItem","login","inputs","response","post","concat","data","logout","setItem","stringify","Provider","value"],"sources":["C:/Users/Joel/WebstormProjects/cultrm/src/context/AuthContext.js"],"sourcesContent":["import {createContext, useEffect, useState} from \"react\";\r\nimport axios from \"axios\";\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthContextProvider = ({children}) => {\r\n    const apiUrl = 'http://18.219.147.241:4000';\r\n    const [currentUser, setUser] = useState(JSON.parse(localStorage.getItem(\"user\")) || null);\r\n\r\n    const login = async (inputs) => {\r\n        const response = await axios.post(`${apiUrl}/api/auth/login`, inputs);\r\n        setUser(response.data);\r\n    }\r\n\r\n    const logout = async (inputs) => {\r\n        const response = await axios.post(\"/auth/logout\", inputs);\r\n        setUser(null);\r\n    }\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem(\"user\", JSON.stringify(currentUser));\r\n    }, [currentUser])\r\n\r\n\r\n    return (\r\n        <AuthContext.Provider value={{currentUser, login, logout}}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}"],"mappings":"AAAA,OAAQA,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACxD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAC1B,MAAO,MAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,CAAC,CAE1C,MAAO,MAAM,CAAAO,mBAAmB,CAAGC,IAAA,EAAgB,IAAf,CAACC,QAAQ,CAAC,CAAAD,IAAA,CAC1C,KAAM,CAAAE,MAAM,CAAG,4BAA4B,CAC3C,KAAM,CAACC,WAAW,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAACW,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAI,IAAI,CAAC,CAEzF,KAAM,CAAAC,KAAK,CAAG,KAAO,CAAAC,MAAM,EAAK,CAC5B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAhB,KAAK,CAACiB,IAAI,IAAAC,MAAA,CAAIX,MAAM,oBAAmBQ,MAAM,CAAC,CACrEN,OAAO,CAACO,QAAQ,CAACG,IAAI,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAC,MAAM,CAAG,KAAO,CAAAL,MAAM,EAAK,CAC7B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAhB,KAAK,CAACiB,IAAI,CAAC,cAAc,CAAEF,MAAM,CAAC,CACzDN,OAAO,CAAC,IAAI,CAAC,CACjB,CAAC,CAEDX,SAAS,CAAC,IAAM,CACZc,YAAY,CAACS,OAAO,CAAC,MAAM,CAAEX,IAAI,CAACY,SAAS,CAACd,WAAW,CAAC,CAAC,CAC7D,CAAC,CAAE,CAACA,WAAW,CAAC,CAAC,CAGjB,mBACIN,IAAA,CAACC,WAAW,CAACoB,QAAQ,EAACC,KAAK,CAAE,CAAChB,WAAW,CAAEM,KAAK,CAAEM,MAAM,CAAE,CAAAd,QAAA,CACrDA,QAAQ,CACS,CAAC,CAE/B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}